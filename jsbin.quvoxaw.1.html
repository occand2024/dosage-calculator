<!DOCTYPE html>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2025 by occand2024 (http://jsbin.com/quvoxaw/1/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
</head>
<body>

</body>
</html><!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>PPM Calculator</title>
</head>
<body>
<div style="max-width: 400px; margin: 20px auto; font-family: Arial, sans-serif;">
    <h2>PPM Dosage Calculator</h2>
    
    <label for="targetPpm">Target Dosage (ppm):</label>
    <input type="number" id="targetPpm" step="any" placeholder="e.g. 10" style="width: 100%; margin-bottom: 10px;" />
    
    <label for="percentActive">% Active (by weight):</label>
    <input type="number" id="percentActive" step="any" placeholder="e.g. 50" style="width: 100%; margin-bottom: 10px;" />
    
    <label for="treatedVolumeGal">Treated Volume (gallons):</label>
    <input type="number" id="treatedVolumeGal" step="any" placeholder="e.g. 1000" style="width: 100%; margin-bottom: 10px;" />

    <label for="specificGravity">Specific Gravity:</label>
    <input type="number" id="specificGravity" step="any" placeholder="e.g. 1.05" style="width: 100%; margin-bottom: 10px;" />
    
    <button id="calculateBtn" style="width: 100%; margin-bottom: 10px;">Calculate</button>
    
    <div id="results" style="font-weight: bold; text-align: center;"></div>
</div>

<script>
(function() {
    // Once the page loads, attach the event listener to the button
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('calculateBtn').addEventListener('click', calculateResults);
    });

    function calculateResults() {
        // Gather inputs
        var ppm = parseFloat(document.getElementById('targetPpm').value);
        var percentActive = parseFloat(document.getElementById('percentActive').value);
        var volumeGal = parseFloat(document.getElementById('treatedVolumeGal').value);
        var specGrav = parseFloat(document.getElementById('specificGravity').value);

        // Reference to results div
        var resultsDiv = document.getElementById('results');
        
        // Basic validation
        if (
            isNaN(ppm) || ppm <= 0 ||
            isNaN(percentActive) || percentActive <= 0 || percentActive > 100 ||
            isNaN(volumeGal) || volumeGal <= 0 ||
            isNaN(specGrav) || specGrav <= 0
        ) {
            resultsDiv.textContent = "Please enter valid positive numbers (and % Active <= 100).";
            return;
        }

        // 1) Calculate total mg of active needed
        //    1 ppm = 1 mg per liter (approx for water),
        //    1 US gallon ~ 3.785411784 liters
        var mgActiveNeeded = ppm * volumeGal * 3.785411784;

        // 2) Convert mg active -> lbs active
        //    1 lb = 453592.37 mg
        var lbsActiveNeeded = mgActiveNeeded / 453592.37;

        // 3) % Active means fractionActive = percentActive / 100
        var fractionActive = percentActive / 100;

        //    Weight of total solution needed (lbs)
        var lbsSolution = lbsActiveNeeded / fractionActive;

        // 4) Volume of solution in gallons
        //    Water is ~8.34 lb/gal, so solution is 8.34 * specGrav lb/gal
        //    volume_solutions_gal = (total lbs) / (8.34 * specGrav)
        var volumeSolutionGal = lbsSolution / (8.34 * specGrav);

        // 5) Convert gallons to fluid ounces
        //    1 gallon = 128 fl oz
        var volumeSolutionFlOz = volumeSolutionGal * 128;

        // Round results a bit for display
        var volOzRounded = volumeSolutionFlOz.toFixed(2);
        var wtSolRounded = lbsSolution.toFixed(3);
        var wtActiveRounded = lbsActiveNeeded.toFixed(3);

        // Display
        resultsDiv.innerHTML = 
            "Volume of Solution (fl oz): " + volOzRounded + "<br/>" +
            "Weight of Solution (lbs): " + wtSolRounded + "<br/>" +
            "Weight of Active Chemical (lbs): " + wtActiveRounded;
    }
})();
</script>
<script id="jsbin-javascript">
(function() {
    // Runs after the page loads
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('calculateBtn')
                .addEventListener('click', calculateResults);
    });

    function calculateResults() {
        // Get input values
        var ppm = parseFloat(document.getElementById('targetPpm').value);
        var percentActive = parseFloat(document.getElementById('percentActive').value);
        var volumeGal = parseFloat(document.getElementById('treatedVolumeGal').value);
        var specGrav = parseFloat(document.getElementById('specificGravity').value);

        // Reference to results div
        var resultsDiv = document.getElementById('results');
        
        // Basic validation
        if (
            isNaN(ppm) || ppm <= 0 ||
            isNaN(percentActive) || percentActive <= 0 || percentActive > 100 ||
            isNaN(volumeGal) || volumeGal <= 0 ||
            isNaN(specGrav) || specGrav <= 0
        ) {
            resultsDiv.textContent = "Please enter valid positive numbers (and % Active <= 100).";
            return;
        }

        // 1) Calculate total mg of active needed
        //    1 ppm ~ 1 mg per liter of water
        //    1 US gallon ~ 3.785411784 liters
        var mgActiveNeeded = ppm * volumeGal * 3.785411784;

        // 2) Convert mg active -> lbs active
        //    1 lb = 453592.37 mg
        var lbsActiveNeeded = mgActiveNeeded / 453592.37;

        // 3) % Active => fraction
        var fractionActive = percentActive / 100;
        //    Total solution in lbs
        var lbsSolution = lbsActiveNeeded / fractionActive;

        // 4) Volume of solution in gallons
        //    Water ~8.34 lb/gal, solution ~8.34 * specGrav lb/gal
        var volumeSolutionGal = lbsSolution / (8.34 * specGrav);

        // 5) Convert gallons to fl oz (1 gal = 128 fl oz)
        var volumeSolutionFlOz = volumeSolutionGal * 128;

        // Round results for display
        var volOzRounded = volumeSolutionFlOz.toFixed(2);
        var wtSolRounded = lbsSolution.toFixed(3);
        var wtActiveRounded = lbsActiveNeeded.toFixed(3);

        // Display them
        resultsDiv.innerHTML = 
            "Volume of Solution (fl oz): " + volOzRounded + "<br/>" +
            "Weight of Solution (lbs): " + wtSolRounded + "<br/>" +
            "Weight of Active Chemical (lbs): " + wtActiveRounded;
    }
})();
</script>
</body>
</html>